# Copy this file to .env and update the values for your production environment

PORT=3000

# PRODUCTION SECURITY SETTINGS
NODE_ENV=production

############################################################################################################
############################################## DATABASE ####################################################
############################################################################################################

# Production Database Configuration - PostgreSQL
DATABASE_PATH=/root/.flowise
DATABASE_TYPE=postgres
DATABASE_PORT=5432
DATABASE_HOST=postgres
DATABASE_NAME=flowise_prod
DATABASE_USER=flowise_user
DATABASE_PASSWORD=your-secure-database-password-change-me
DATABASE_SSL=false
# DATABASE_SSL_KEY_BASE64=<Self signed certificate in BASE64>

############################################################################################################
############################################## SECRET KEYS #################################################
############################################################################################################

# Production Secret Key Configuration
SECRETKEY_STORAGE_TYPE=local
SECRETKEY_PATH=/root/.flowise
FLOWISE_SECRETKEY_OVERWRITE=your-encryption-key-change-me-min-32-chars
# SECRETKEY_AWS_ACCESS_KEY=<your-access-key>
# SECRETKEY_AWS_SECRET_KEY=<your-secret-key>
# SECRETKEY_AWS_REGION=us-west-2
# SECRETKEY_AWS_NAME=FlowiseEncryptionKey

############################################################################################################
############################################## LOGGING #####################################################
############################################################################################################

DEBUG=false
LOG_PATH=/root/.flowise/logs
LOG_LEVEL=warn
# TOOL_FUNCTION_BUILTIN_DEP=crypto,fs
# TOOL_FUNCTION_EXTERNAL_DEP=moment,lodash

############################################################################################################
############################################## STORAGE #####################################################
############################################################################################################

# STORAGE_TYPE=local (local | s3 | gcs)
BLOB_STORAGE_PATH=/root/.flowise/storage
# S3_STORAGE_BUCKET_NAME=flowise
# S3_STORAGE_ACCESS_KEY_ID=<your-access-key>
# S3_STORAGE_SECRET_ACCESS_KEY=<your-secret-key>
# S3_STORAGE_REGION=us-west-2
# S3_ENDPOINT_URL=<custom-s3-endpoint-url>
# S3_FORCE_PATH_STYLE=false
# GOOGLE_CLOUD_STORAGE_CREDENTIAL=/the/keyfilename/path
# GOOGLE_CLOUD_STORAGE_PROJ_ID=<your-gcp-project-id>
# GOOGLE_CLOUD_STORAGE_BUCKET_NAME=<the-bucket-name>
# GOOGLE_CLOUD_UNIFORM_BUCKET_ACCESS=true

############################################################################################################
############################################## SETTINGS ####################################################
############################################################################################################

NUMBER_OF_PROXIES=1
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
IFRAME_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
FLOWISE_FILE_SIZE_LIMIT=50mb
SHOW_COMMUNITY_NODES=false
DISABLE_FLOWISE_TELEMETRY=true
# DISABLED_NODES=bufferMemory,chatOpenAI
# MODEL_LIST_CONFIG_JSON=/your_model_list_config_file_path

############################################################################################################
############################################ AUTH PARAMETERS ###############################################
############################################################################################################

APP_URL=https://yourdomain.com

# SMTP Configuration for password reset emails
# SMTP_HOST=smtp.host.com
# SMTP_PORT=465
# SMTP_USER=smtp_user
# SMTP_PASSWORD=smtp_password
# SMTP_SECURE=true
# ALLOW_UNAUTHORIZED_CERTS=false
# SENDER_EMAIL=team@example.com

# PRODUCTION SECURITY: Generate unique secrets using: openssl rand -hex 32
JWT_AUTH_TOKEN_SECRET=generate-with-openssl-rand-hex-32
JWT_REFRESH_TOKEN_SECRET=generate-with-openssl-rand-hex-32
JWT_ISSUER=your-app-name
JWT_AUDIENCE=your-app-users
JWT_TOKEN_EXPIRY_IN_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRY_IN_MINUTES=10080
EXPIRE_AUTH_TOKENS_ON_RESTART=true
EXPRESS_SESSION_SECRET=generate-with-openssl-rand-hex-16

INVITE_TOKEN_EXPIRY_IN_HOURS=24
PASSWORD_RESET_TOKEN_EXPIRY_IN_MINS=15
PASSWORD_SALT_HASH_ROUNDS=12
TOKEN_HASH_SECRET=production-token-hash-secret-change-me

############################################################################################################
############################################# ENTERPRISE ###################################################
############################################################################################################

# LICENSE_URL=
# FLOWISE_EE_LICENSE_KEY=
# OFFLINE=

############################################################################################################
########################################### METRICS COLLECTION #############################################
############################################################################################################

# POSTHOG_PUBLIC_API_KEY=your_posthog_public_api_key

# ENABLE_METRICS=false
# METRICS_PROVIDER=prometheus
# METRICS_INCLUDE_NODE_METRICS=true
# METRICS_SERVICE_NAME=FlowiseAI

# METRICS_OPEN_TELEMETRY_METRIC_ENDPOINT=http://localhost:4318/v1/metrics
# METRICS_OPEN_TELEMETRY_PROTOCOL=http
# METRICS_OPEN_TELEMETRY_DEBUG=false

############################################################################################################
############################################### PROXY ######################################################
############################################################################################################

# GLOBAL_AGENT_HTTP_PROXY=CorporateHttpProxyUrl
# GLOBAL_AGENT_HTTPS_PROXY=CorporateHttpsProxyUrl
# GLOBAL_AGENT_NO_PROXY=ExceptionHostsToBypassProxyIfNeeded

############################################################################################################
########################################### QUEUE CONFIGURATION ############################################
############################################################################################################

# MODE=queue
# QUEUE_NAME=flowise-queue
# QUEUE_REDIS_EVENT_STREAM_MAX_LEN=100000
# WORKER_CONCURRENCY=100000
# REMOVE_ON_AGE=86400
# REMOVE_ON_COUNT=10000
# REDIS_URL=
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_USERNAME=
# REDIS_PASSWORD=
# REDIS_TLS=
# REDIS_CERT=
# REDIS_KEY=
# REDIS_CA=
# REDIS_KEEP_ALIVE=
# ENABLE_BULLMQ_DASHBOARD=
